/*! crowdlearn 19-10-2015 */
var crowdLearnApp=angular.module("crowdLearnApp",["ngMaterial","ui.router","firebase","crowdLearnApp.home","crowdLearnApp.contact","crowdLearnApp.form","crowdLearnApp.quotes","layoutModule","layoutModule.header"]).constant("ENV","dev").constant("FBURL","https://creativespace.firebaseio.com/").config(["$urlRouterProvider","$logProvider",function(a,b){"use strict";b.debugEnabled(!0),a.otherwise("/")}]).run(["$log","$rootScope","$state","$stateParams","$window",function(a,b,c,d,e){"use strict";function f(){var a={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i},b=e.navigator.userAgent;for(var c in a)if(a[c].test(b))return c}b.$state=c,b.$stateParams=d,b.$on("$stateChangeSuccess",function(a,c,d,e){b.$state.$back=e}),b.$on("$stateChangeError",function(c,d,e,f,g,h){a.error("$stateChangeError: ",h,b.$state)}),b.$browser=function(){return f()}}]);crowdLearnApp.filter("reverse",function(){"use strict";return function(a){return _.toArray(a).slice().reverse()}}),crowdLearnApp.homeModule=angular.module("crowdLearnApp.home",[]),crowdLearnApp.homeModule.config(["$stateProvider",function(a){"use strict";a.state("home",{url:"/","abstract":!0,template:"<ui-view/>"}).state("home.index",{url:"",views:{"":{templateUrl:"src/home/home-template.html"}}})}]),crowdLearnApp.formModule=angular.module("crowdLearnApp.form",[]),crowdLearnApp.formModule.controller("FormController",["$log","$scope","$mdToast","FBURL",function(a,b,c,d){"use strict";function e(){return Object.keys(g).filter(function(a){return g[a]}).join(" ")}var f=new Firebase(d+"/messages"),g={bottom:!0,top:!1,left:!1,right:!0},h={success:function(){b.messageData={},b.contact.$setUntouched(),b.contact.$setPristine(),c.show(c.simple().content("Sent!").position(e()).hideDelay(5e3))},error:function(a){c.show(c.simple().content("Error!").position(e()).hideDelay(5e3))}},i=function(){return f.push()},j=function(a,c){return this.ref=new i,this.data=a,this.data.submitAt=Firebase.ServerValue.TIMESTAMP,this.data.submitAtString=Date(this.data.submitAt),this.valid=b.contact.$valid,this};j.prototype.submit=function(){var a=this;this.valid?this.ref.set(this.data,function(b){a.onSubmit(b,h.success,h.error)}):a.onSubmit("form not valid",null,null)},j.prototype.onSubmit=function(b,c,d){b?(a.error("Error submitting message:",b),d&&"function"==typeof d&&d()):(a.debug("Submitted message."),c&&"function"==typeof c&&c())},b.submit=function(){var a=new j(angular.copy(b.messageData),b.contact.$valid&&!0);a.submit()}}]),crowdLearnApp.formModule.directive("contactForm",function(){"use strict";return{require:[],scope:{title:"@"},controller:"FormController",template:'<form name=contact ng-submit=submit() layout=column class=mt20 style=margin:auto;width:100%;max-width:640px><h4>What\'s your info?</h4><div layout-gt-md=row layout-md=column><md-input-container flex><label>Name</label><input ng-model=messageData.name></md-input-container><md-input-container flex><label>Email (required)</label><input type=email ng-model=messageData.email required></md-input-container></div><h4>What would you like to discuss?</h4><md-input-container flex><label>Message (required)</label><textarea ng-model=messageData.message columns=1 md-maxlength=500 required></textarea></md-input-container><div flex layout layout-align="center center" class=mb10><input class="md-button md-raised md-accent" type=submit id=submit value="Submit"></div></form>'}}),crowdLearnApp.formModule.directive("joinForm",function(){"use strict";return{require:[],scope:{title:"@"},controller:"FormController",template:'<form name=contact ng-submit=submit() layout=column class=mt20 style=margin:auto;width:100%;max-width:640px><h4>What\'s your info?</h4><div layout-gt-md=row layout-md=column><md-input-container flex><label>Name</label><input ng-model=messageData.name></md-input-container><md-input-container flex><label>Email (required)</label><input type=email ng-model=messageData.email required></md-input-container></div><h4>What would you like to discuss?</h4><md-input-container flex><label>Message (required)</label><textarea ng-model=messageData.message columns=1 md-maxlength=500 required></textarea></md-input-container><div flex layout layout-align="center center" class=mb10><input class="md-button md-raised md-accent" type=submit id=submit value="Submit"></div></form>'}}),crowdLearnApp.contactModule=angular.module("crowdLearnApp.contact",[]),crowdLearnApp.contactModule.config(["$stateProvider",function(a){"use strict";a.state("contact",{url:"/contact",views:{"":{templateUrl:"src/contact/contact-template.html"}}})}]);var layoutModule=angular.module("layoutModule",["ngMaterial"]);layoutModule.provider("layoutModule",[function(){var a=null;this.setBackFallback=function(b){a=b},this.$get=[function(){return new Layout(a)}]}]),layoutModule.controller("LayoutController",["$scope","$rootScope",function(a,b){a.fab={isOpen:!1,close:function(){a.fab.isOpen===!0&&(a.fab.isOpen=!1)}},b.$on("$stateChangeSuccess",function(){a.fab.close()})}]),layoutModule.header=angular.module("layoutModule.header",["ngMaterial"]),layoutModule.header.controller("HeaderController",["$scope","$rootScope",function(a,b){function c(a){"use strict";return b.$state.current.name===a.uiSref?"active":"null"}a.nav={title:"*CreativeSpace",shortTitle:"*CS* App",brand:{img:"//files.snackwebsites.net.s3.amazonaws.com/sites/z1nqutdl/files/1179",uiSref:"home.index"},buttons:[{val:"Overview",label:"Overview",uiSref:"home.index",ngClass:c}]}}]),layoutModule.header.directive("layoutHeader",function(){"use strict";return{scope:{nav:"=",buttonClass:"@"},controller:"HeaderController",templateUrl:"src/layout/header-template.html"}}),layoutModule.header.directive("layoutHeaderButton",function(){"use strict";return{scope:{button:"=",buttonClass:"@"},template:"<md-button ui-sref={{::button.uiSref}} ng-bind=button.val class={{buttonClass}} ng-class=button.ngClass(button) aria-label={{::button.label}}></md-button>"}}),layoutModule.directive("layoutFooter",function(){"use strict";return{scope:{},templateUrl:"src/layout/footer-template.html"}}),crowdLearnApp.questionsModule=angular.module("crowdLearnApp.questions",[]),crowdLearnApp.questionsModule.config(["$stateProvider",function(a){"use strict";a.state("questions",{url:"/questions","abstract":!0,controller:"QuotesController",template:"<ui-view/>"}).state("questions.index",{url:"",views:{"":{templateUrl:"src/questions/templates/questions-index-template.html"}}})}]),crowdLearnApp.questionsModule.controller("QuotesController",["$log","$scope","QuestionsService",function(a,b,c){}]),crowdLearnApp.questionsModule.service("QuestionsService",["$log","QuestionsList",function(a,b){var c=new b;return{val:function(){return c}}}]),crowdLearnApp.questionsModule.factory("QuestionsList",["$log","$q","FBURL",function(a,b,c){return function(){var d=b.defer(),e=new Firebase(c+"/questions"),f={};e.once("value",function(b){b.exists()?(f=b.val(),d.resolve(f),a.debug("QuestionsList data set to ",f)):d.reject()});return d.promise}}]);